<!--
Copyright (C) 2006-2012 Infinite Automation Systems Inc All rights reserved.
@author Joel Haggar
-->
<h1>Example Server Side Scripts</h1>
<p>These are some example server side scripts you can use to create more dynamic graphic views.</p>
<p><strong>------------------------------------------------------------------------------</strong></p>
<p><strong>Server Side Script <br />Basic text with decimal place control - change (0) for # of decimals</strong><br />------------------------------------------------------------------------------<br />return '&lt;span style="font-size:16px;"&gt;'+ value.toFixed(1) +'&lt;/span&gt;';</p>
<p>------------------------------------------------------------------------------</p>
<p><strong>Server Side Script</strong><br /><strong>Basic text with size and color options</strong><br />------------------------------------------------------------------------------</p>
<p>return '&lt;span style="color: Black; font-size:20px;"&gt;Your Text Here: '+ '&lt;font color="green"&gt;'+ value.toFixed(0) +' Ending Text&lt;/span&gt;';</p>
<p>------------------------------------------------------------------------------<br /><strong>Server Side Script</strong><br /><strong>Drop Down List</strong><br />------------------------------------------------------------------------------<br />var s="";<br />var idx = 0;</p>
<p>s = "&lt;select onchange='idx=this.options(this.selectedIndex).value; \<br />if (idx == 0) mango.view.setPoint("+ point.id +", \""+ pointComponent.id +"\", \"0\"); \<br />if (idx == 14) mango.view.setPoint("+ point.id +", \""+ pointComponent.id +"\", \"14\"); \<br />if (idx == 32) mango.view.setPoint("+ point.id +", \""+ pointComponent.id +"\", \"32\"); \<br />if (idx == 3) mango.view.setPoint("+ point.id +", \""+ pointComponent.id +"\", \"3\"); \<br />if (idx == 94) mango.view.setPoint("+ point.id +", \""+ pointComponent.id +"\", \"94\"); \<br />if (idx == 55) mango.view.setPoint("+ point.id +", \""+ pointComponent.id +"\", \"55\"); \<br /> return value;'&gt; \<br /> &lt;option value=0&gt;Zero&lt;/option&gt; \<br /> &lt;option value=14&gt;Fourteen&lt;/option&gt; \<br /> &lt;option value=32&gt;ThirtyTwo&lt;/option&gt; \<br /> &lt;option value=3&gt;Three&lt;/option&gt; \<br /> &lt;option value=94&gt;Ninety Four&lt;/option&gt; \<br /> &lt;option value=55&gt;FiftyFive&lt;/option&gt; \<br /> &lt;/select&gt;";<br />return s;<br /><br />------------------------------------------------------------------------------<br /><strong>Server Side Script</strong><br /><strong>increase value and image on click</strong><br />------------------------------------------------------------------------------<br />var s = "";<br />if (value == 0)<br /> s += "&lt;img style='cursor:pointer;' src='graphics/GreenThermo/thermometer0.jpg' onclick='mango.view.setPoint("+ point.id +", \""+ pointComponent.id +"\", \"1\");return 1;'/&gt;";<br />else if (value == 1)<br /> s += "&lt;img style='cursor:pointer;' src='graphics/GreenThermo/thermometer1.jpg' onclick='mango.view.setPoint("+ point.id +", \""+ pointComponent.id +"\", \"2\");return 2;'/&gt;";<br />else if (value == 2)<br /> s += "&lt;img style='cursor:pointer;' src='graphics/GreenThermo/thermometer2.jpg' onclick='mango.view.setPoint("+ point.id +", \""+ pointComponent.id +"\", \"3\");return 3;'/&gt;";<br />else if (value == 3)<br /> s += "&lt;img style='cursor:pointer;' src='graphics/GreenThermo/thermometer3.jpg' onclick='mango.view.setPoint("+ point.id +", \""+ pointComponent.id +"\", \"0\");return 0;'/&gt;";<br />return s;</p>
<p>------------------------------------------------------------------------------<br /><strong>Server Side Script</strong><br /><strong>Decrease the value on click with image:</strong><br />------------------------------------------------------------------------------<br />var result = "";<br />result += "&lt;span onclick='mango.view.setPoint("+ point.id+", "+ pointComponent.id +", \""+ (value - 1) +"\")'&gt;";</p>
<p>result += "&lt;img src='graphics/Drinks/drink_empty.png'/&gt;";<br />return result;<br />------------------------------------------------------------------------------</p>
<p><strong>Server Side Script</strong><br /><strong>Increase the value on Click with image:</strong><br />------------------------------------------------------------------------------<br />var result = "";<br />result += "&lt;span onclick='mango.view.setPoint("+ point.id+", "+ pointComponent.id +", \""+ (value + 1) +"\")'&gt;";</p>
<p>result += "&lt;img src='graphics/Drinks/drink_empty.png'/&gt;";<br />return result;<br />------------------------------------------------------------------------------</p>
<p><strong>Server Side Script</strong></p>
<p><strong>Toggle on image click</strong><br />------------------------------------------------------------------------------<br />var s = "";<br />if (!value)<br /> s += "&lt;img style='cursor:pointer;' src='graphics/Drinks/drink_empty.png' onclick='mango.view.setPoint("+ point.id +", \""+ pointComponent.id +"\", \"true\");return true;'/&gt;";<br />else if (value)<br /> s += "&lt;img style='cursor:pointer;' src='graphics/Drinks/drink.png' onclick='mango.view.setPoint("+ point.id +", \""+ pointComponent.id +"\", \"false\");return false;'/&gt;";<br />return s;</p>
<p>------------------------------------------------------------------------------</p>
<p><strong>Server Side Script</strong><br /><strong>Turn on with click but can't turn off</strong><br />------------------------------------------------------------------------------</p>
<p>var s = "";<br />if (!value)<br /> s += "&lt;img style='cursor:pointer;' src='graphics/GreenThermo/thermometer0.jpg' onclick='mango.view.setPoint("+ point.id +", \""+ pointComponent.id +"\", \"true\");return true;'/&gt;";<br />else if (value)<br />var s = ""; <br />if (value) <br /> s += "&lt;img src='graphics/GreenThermo/thermometer5.jpg'/&gt;"; <br />return s;</p>
<p>------------------------------------------------------------------------------<br /><strong>Server Side Script</strong><br /><strong>Toggle with text and Image:</strong><br />------------------------------------------------------------------------------<br />var s = "";</p>
<p>s += "&lt;a href='#' onclick='mango.view.setPoint("+ point.id +", \""+ pointComponent.id +"\", \""+ !value +"\");return false;'&gt;Toggle&lt;/a&gt;";<br />s += " its state.";</p>
<p><br />if (value)<br /> s += "&lt;img style='cursor:pointer;' src='graphics/Drinks/drink.png' onclick='mango.view.setPoint("+ point.id +", \""+ pointComponent.id +"\", \"false\");return false;'/&gt;";<br />else<br /> s += "&lt;img src='graphics/Drinks/drink_empty.png'/&gt;";<br />return s;</p>
<p>------------------------------------------------------------------------------<br /><strong>Server Side Script</strong><br /><strong>On / Off / Toggle text no image:</strong><br />------------------------------------------------------------------------------<br />var s = "";<br />s += "Or, use these scripted controls to turn the light ";</p>
<p><br />s += "&lt;a href='#' onclick='mango.view.setPoint("+ point.id +", \""+ pointComponent.id +"\", \"false\");return false;'&gt;";<br />s += value ? "Off" : "&lt;b&gt;Off&lt;/b&gt;";<br />s += "&lt;/a&gt;, ";<br />s += "&lt;a href='#' onclick='mango.view.setPoint("+ point.id +", \""+ pointComponent.id +"\", \"true\");return false;'&gt;";<br />s += value ? "&lt;b&gt;On&lt;/b&gt;" : "On";</p>
<p>s += "&lt;/a&gt;, or to ";<br />s += "&lt;a href='#' onclick='mango.view.setPoint("+ point.id +", \""+ pointComponent.id +"\", \""+ !value +"\");return false;'&gt;Toggle&lt;/a&gt;";<br />s += " its state.";<br />return s;</p>
<p>------------------------------------------------------------------------------<br /><strong>Server Side Script</strong><br /><strong>Change from On to off with font format</strong><br />------------------------------------------------------------------------------<br />if (!value)<br /> return "&lt;span style="font-size:40px;"&gt;&lt;font color="gray"&gt;Off&lt;/span&gt;";<br />else if (value)<br /> return "&lt;span style="font-size:40px;"&gt;'+ '&lt;font color="blue"&gt;'+' On&lt;/span&gt;";<br /> <br /> if (!value)<br /> return "&lt;span style="font-size:40px;"&gt;'+ '&lt;font color="gray"&gt;'+ Off&lt;/span&gt;";<br />else if (value)<br /> return "&lt;span style="font-size:40px;"&gt;'+ '&lt;font color="blue"&gt;'+ On&lt;/span&gt;";</p>
<p>return s;</p>
<p>------------------------------------------------------------------------------</p>